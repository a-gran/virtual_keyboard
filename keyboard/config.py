"""
Модуль конфигурации виртуальной клавиатуры
Содержит все константы, настройки и конфигурации раскладок
"""

from enum import Enum


class Language(Enum):
    """Перечисление поддерживаемых языков"""
    ENGLISH = 'EN'
    RUSSIAN = 'RU'


class UIConfig:
    """Конфигурация UI элементов"""
    BG_COLOR = '#2b2b2b'
    BG_DARK = '#1a1a1a'
    FG_COLOR = '#ffffff'
    FG_HIGHLIGHT = '#00ff00'
    FG_BLACK = '#000000'

    KEY_DEFAULT_COLOR = '#404040'
    KEY_ACCENT_COLOR = '#5a5a5a'
    KEY_PRESSED_COLOR = '#00ff00'
    KEY_DIM_COLOR = '#408040'

    TITLE_COLOR_EN = '#4dabf7'
    TITLE_COLOR_RU = '#ff6b6b'

    FONT_FAMILY = 'Arial'
    FONT_FAMILY_MONO = 'Courier New'

    PADDING = 10
    SPACING = 5

    MIN_WINDOW_WIDTH = 800
    MIN_WINDOW_HEIGHT = 300
    DEFAULT_WINDOW_WIDTH = 1200
    DEFAULT_WINDOW_HEIGHT = 400


class KeyboardLayoutConfig:
    """Базовая конфигурация раскладки клавиатуры"""

    # Общая раскладка функциональных клавиш
    FUNCTION_ROW = ['ESC', 'F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8', 'F9', 'F10', 'F11', 'F12']

    # Веса позиций для всех раскладок
    POSITION_WEIGHTS = {
        (0, 0): 5, (0, 1): 4, (0, 2): 4, (0, 3): 4, (0, 4): 4, (0, 5): 4,
        (0, 6): 4, (0, 7): 4, (0, 8): 4, (0, 9): 4, (0, 10): 4, (0, 11): 4, (0, 12): 4,
        (1, 0): 4, (1, 1): 4, (1, 2): 4, (1, 3): 4, (1, 4): 4, (1, 5): 4,
        (1, 6): 4, (1, 7): 4, (1, 8): 4, (1, 9): 4, (1, 10): 4, (1, 11): 4, (1, 12): 4, (1, 13): 10,
        (2, 0): 6, (2, 1): 4, (2, 2): 4, (2, 3): 4, (2, 4): 4, (2, 5): 4,
        (2, 6): 4, (2, 7): 4, (2, 8): 4, (2, 9): 4, (2, 10): 4, (2, 11): 4, (2, 12): 4, (2, 13): 4,
        (3, 0): 7, (3, 1): 4, (3, 2): 4, (3, 3): 4, (3, 4): 4, (3, 5): 4,
        (3, 6): 4, (3, 7): 4, (3, 8): 4, (3, 9): 4, (3, 10): 4, (3, 11): 4, (3, 12): 9,
        (4, 0): 8, (4, 1): 4, (4, 2): 4, (4, 3): 4, (4, 4): 4, (4, 5): 4,
        (4, 6): 4, (4, 7): 4, (4, 8): 4, (4, 9): 4, (4, 10): 4, (4, 11): 8,
        (5, 0): 5, (5, 1): 5, (5, 2): 5, (5, 3): 25, (5, 4): 5, (5, 5): 5, (5, 6): 5, (5, 7): 5,
    }

    # Общий маппинг специальных клавиш
    SPECIAL_KEY_MAPPING = {
        'esc': 'ESC',
        'f1': 'F1', 'f2': 'F2', 'f3': 'F3', 'f4': 'F4',
        'f5': 'F5', 'f6': 'F6', 'f7': 'F7', 'f8': 'F8',
        'f9': 'F9', 'f10': 'F10', 'f11': 'F11', 'f12': 'F12',
        'backspace': 'BACKSPACE',
        'tab': 'TAB',
        'caps_lock': 'CAPS',
        'enter': 'ENTER',
        'shift': 'SHIFT',
        'shift_r': 'SHIFT',
        'ctrl': 'CTRL',
        'ctrl_r': 'CTRL',
        'alt': 'ALT',
        'alt_r': 'ALT',
        'cmd': 'WIN',
        'cmd_r': 'WIN',
        'space': 'SPACE',
        'menu': 'MENU',
    }


class EnglishLayoutConfig(KeyboardLayoutConfig):
    """Конфигурация английской раскладки"""

    LAYOUT = [
        KeyboardLayoutConfig.FUNCTION_ROW,
        ['` | ~', '1 | !', '2 | @', '3 | #', '4 | $', '5 | %', '6 | ^', '7 | &', '8 | *', '9 | (', '0 | )', '- | _', '= | +', 'BACKSPACE'],
        ['TAB', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', '[ | {', '] | }', '\\ | |'],
        ['CAPS', 'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', '; | :', '\' | "', 'ENTER'],
        ['SHIFT', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', ', | <', '. | >', '/ | ?', 'SHIFT'],
        ['CTRL', 'WIN', 'ALT', 'SPACE', 'ALT', 'WIN', 'MENU', 'CTRL']
    ]

    HOME_ROW_KEYS = ['F', 'J']


class RussianLayoutConfig(KeyboardLayoutConfig):
    """Конфигурация русской раскладки"""

    LAYOUT = [
        KeyboardLayoutConfig.FUNCTION_ROW,
        ['Ё | Ё', '1 | !', '2 | "', '3 | №', '4 | ;', '5 | %', '6 | :', '7 | ?', '8 | *', '9 | (', '0 | )', '- | _', '= | +', 'BACKSPACE'],
        ['TAB', 'Й', 'Ц', 'У', 'К', 'Е', 'Н', 'Г', 'Ш', 'Щ', 'З', 'Х', 'Ъ', '\\ | /'],
        ['CAPS', 'Ф', 'Ы', 'В', 'А', 'П', 'Р', 'О', 'Л', 'Д', 'Ж', 'Э', 'ENTER'],
        ['SHIFT', 'Я', 'Ч', 'С', 'М', 'И', 'Т', 'Ь', 'Б', 'Ю', '. | ,', 'SHIFT'],
        ['CTRL', 'WIN', 'ALT', 'SPACE', 'ALT', 'WIN', 'MENU', 'CTRL']
    ]

    HOME_ROW_KEYS = ['А', 'О']

    # Маппинг английских символов на русские
    EN_TO_RU_MAP = {
        'q': 'й', 'w': 'ц', 'e': 'у', 'r': 'к', 't': 'е', 'y': 'н', 'u': 'г', 'i': 'ш', 'o': 'щ', 'p': 'з',
        'a': 'ф', 's': 'ы', 'd': 'в', 'f': 'а', 'g': 'п', 'h': 'р', 'j': 'о', 'k': 'л', 'l': 'д',
        'z': 'я', 'x': 'ч', 'c': 'с', 'v': 'м', 'b': 'и', 'n': 'т', 'm': 'ь',
        'Q': 'Й', 'W': 'Ц', 'E': 'У', 'R': 'К', 'T': 'Е', 'Y': 'Н', 'U': 'Г', 'I': 'Ш', 'O': 'Щ', 'P': 'З',
        'A': 'Ф', 'S': 'Ы', 'D': 'В', 'F': 'А', 'G': 'П', 'H': 'Р', 'J': 'О', 'K': 'Л', 'L': 'Д',
        'Z': 'Я', 'X': 'Ч', 'C': 'С', 'V': 'М', 'B': 'И', 'N': 'Т', 'M': 'Ь',
        '[': 'х', ']': 'ъ', ';': 'ж', "'": 'э', ',': 'б', '.': 'ю', '/': '.',
        '{': 'Х', '}': 'Ъ', ':': 'Ж', '"': 'Э', '<': 'Б', '>': 'Ю', '?': ',',
        '`': 'ё', '~': 'Ё'
    }